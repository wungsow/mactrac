!function(e){function t(t){for(var r,i,u=t[0],l=t[1],c=t[2],s=0,d=[];s<u.length;s++)i=u[s],o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(f&&f(t);d.length;)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var f=l;a.push([363,1]),n()}({141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(11)),o=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}var i={row:{display:"flex"},spacer:{flex:1,minWidth:10}},u=function(e){var t=e.onCancel,n=e.onSubmit,o=e.submitText,a=e.enabled;return r.default.createElement("div",{style:i.row},t&&r.default.createElement("button",{type:"button",onClick:t},"Cancel"),r.default.createElement("div",{style:i.spacer}),r.default.createElement("button",{onClick:n,disabled:!a},o||"Submit"))};u.propTypes={onSubmit:o.default.func.isRequired,onCancel:o.default.func},t.default=u},142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var i={row:{display:"flex",alignItems:"center",marginBottom:20},label:{marginRight:10},input:{flex:1},span:{marginLeft:10}};t.default=function(e){var t=e.value,n=e.onChange,r=e.name,o=e.id,u=e.units,l=e.label;return a.default.createElement("div",{style:i.row},l&&a.default.createElement("label",{style:i.label,htmlFor:o||r},l),a.default.createElement("input",{style:i.input,id:o||r,autoComplete:"off",type:"text",name:r,value:t,onChange:n}),u&&a.default.createElement("span",{style:i.span},u))}},143:function(e,t,n){(t=e.exports=n(67)(!1)).push([e.i,".FoodAmount__container___2gv5S{padding:10px;display:flex;flex-direction:column;height:100%;box-sizing:border-box}.FoodAmount__food___1PZL7{flex:1}",""]),t.locals={container:"FoodAmount__container___2gv5S",food:"FoodAmount__food___1PZL7"}},144:function(e,t,n){var r=n(143);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,o);r.locals&&(e.exports=r.locals)},145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var i={macroRow:{display:"flex",justifyContent:"space-between",marginBottom:20}},u=function(e){return e||0===e?e:"-"};t.default=function(e){var t=e.protein,n=e.carbs,r=e.fat,o=e.cal;return a.default.createElement("dl",{style:i.macroRow},a.default.createElement("dt",null,"Protein: ",u(t)),a.default.createElement("dt",null,"Carbs: ",u(n)),a.default.createElement("dt",null,"Fat: ",u(r)),a.default.createElement("dt",null,"Kcal: ",u(o)))}},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),a=s(o),i=s(n(145)),u=s(n(48)),l=s(n(144)),c=s(n(142)),f=s(n(141));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={amount:"",units:"grams"},r.handleChange=function(e){var t,n,o;r.setState((t={},n=e.target.name,o=e.target.value,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.food,r=t.onAdd,o=t.onCancel;return a.default.createElement("form",{className:l.default.container,onSubmit:function(e){return e.preventDefault()}},a.default.createElement("div",{className:l.default.food},a.default.createElement("h2",null,n.name),a.default.createElement(i.default,n),a.default.createElement(c.default,{value:this.state.amount,onChange:this.handleChange,name:"amount",label:"Amount",units:this.state.units}),a.default.createElement(i.default,this.total)),a.default.createElement(f.default,{onSubmit:function(){return r(e.total)},onCancel:o,submitText:"Add",enabled:Object.keys(this.total).length}))}},{key:"total",get:function(){var e=this,t=[{},this.props.food],n=t[0],r=t[1];return this.state.amount&&Object.keys(r).forEach(function(t){return n[t]=r[t]*e.state.amount}),n}}]),t}();p.propTypes={food:u.default.object,onAdd:u.default.func.isRequired,onCancel:u.default.func.isRequired},t.default=p},147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(137),i=(r=a)&&r.__esModule?r:{default:r};var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"searchFood",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n,r){var o,a,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.get("https://world.openfoodfacts.org/cgi/search.pl?search_terms="+n+"&search_simple=1&action=process&json=1&page_size=50&page="+r+"&tagtype_0=languages&tag_contains_0=contains&tag_0=English");case 2:return o=t.sent,a=o.data,u=a.count-50*r,t.abrupt("return",{items:a&&a.products?e.mapFoodsToVM(a.products):[],remaining:u>0?u:null});case 6:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});t(u)}("next")})});return function(e,t){return n.apply(this,arguments)}}()},{key:"mapFoodsToVM",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return e.nutriments&&e.nutriments.energy_100g}).map(function(e){return{name:e.product_name,protein:l(e.nutriments.proteins_100g),fat:l(e.nutriments.fat_100g),carbs:l(e.nutriments.carbohydrates_100g),cal:l(e.nutriments.energy_100g/4.2),servingSize:e.serving_quantity/100}})}}]),e}();t.default=u;var l=function(e){return isNaN(e)?e:Math.round(e)}},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),i=(r=a)&&r.__esModule?r:{default:r};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l={mask:{backgroundColor:"rgba(0,0,0,0.3)",width:"100%",height:"100%",position:"fixed",zIndex:100,top:0,left:0},dialog:{backgroundColor:"white",margin:10,width:"calc(100% - 20px)",height:"calc(100% - 20px)"}},c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={show:!1},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){return this.props.show?i.default.createElement("div",{style:l.mask},i.default.createElement("div",{style:l.dialog},this.props.children)):null}}]),t}();t.default=c},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(11),a=(r=o)&&r.__esModule?r:{default:r};var i={textAlign:"center",padding:"10px"};t.default=function(e){return e.show?a.default.createElement("div",{style:i},"Loading..."):""}},150:function(e,t,n){(t=e.exports=n(67)(!1)).push([e.i,".FoodListItem__container___LC5k-{position:relative;margin-bottom:1px;cursor:pointer}.FoodListItem__description___2CWE0{display:flex;padding:12px;position:relative;z-index:2}.FoodListItem__name___3NiTP{flex:1;padding-right:10px}.FoodListItem__macroBar___3T2a8{width:100%;height:100%;display:flex;position:absolute;z-index:1;opacity:.3;top:0}",""]),t.locals={container:"FoodListItem__container___LC5k-",description:"FoodListItem__description___2CWE0",name:"FoodListItem__name___3NiTP",macroBar:"FoodListItem__macroBar___3T2a8"}},151:function(e,t,n){var r=n(150);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,o);r.locals&&(e.exports=r.locals)},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(11)),o=i(n(48)),a=i(n(151));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.food,n=e.onClick,o=t.name,i=t.protein,u=t.carbs,l=t.fat,c=t.cal,f=t.servingSize;f&&(Math.round(f*c),Math.round(100*f));return r.default.createElement("div",{className:a.default.container,onClick:function(){return n(t)}},r.default.createElement("div",{className:a.default.description},r.default.createElement("span",{className:a.default.name},o),r.default.createElement("span",null,c)),r.default.createElement("div",{className:a.default.macroBar},r.default.createElement("div",{style:{flex:i,backgroundColor:"blue"}}),r.default.createElement("div",{style:{flex:u,backgroundColor:"yellow"}}),r.default.createElement("div",{style:{flex:l,backgroundColor:"red"}})))};u.propTypes={food:o.default.object.isRequired,onClick:o.default.func.isRequired},t.default=u},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),a=l(o),i=l(n(48)),u=l(n(152));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this;return this.props.items.length?a.default.createElement("div",null," ",this.props.items.map(function(t,n){return a.default.createElement(u.default,{key:n,food:t,onClick:e.props.onItemClick})})):null}}]),t}();f.defaultProps={items:[]},f.propTypes={items:i.default.arrayOf(i.default.shape({name:i.default.string})),onItemClick:i.default.func.isRequired},t.default=f},154:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(11),a=u(o),i=u(n(48));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c={container:{display:"flex",padding:10},input:{flex:1,marginRight:10}},f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={searchTerm:""},r.onSubmit=function(){r.props.onSearchSubmit(r.state.searchTerm)},r.handleChange=function(e){var t,n,o;r.setState((t={},n=e.target.name,o=e.target.value,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("form",{style:c.container,onSubmit:function(e){return e.preventDefault()}},a.default.createElement("input",{autoComplete:"off",style:c.input,type:"text",name:"searchTerm",value:this.state.value,onChange:this.handleChange}),a.default.createElement("button",{onClick:this.onSubmit},"Search"))}}]),t}();f.propTypes={onSearchSubmit:i.default.func.isRequired},t.default=f},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(11)),a=s(n(154)),i=s(n(153)),u=s(n(149)),l=s(n(148)),c=s(n(147)),f=s(n(146));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={button:{display:"block",margin:"10px auto"}},m=function(e){function t(){var e,n,r,o,a,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=Array(u),f=0;f<u;f++)l[f]=arguments[f];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={items:[],loading:!1,page:1,newSearchTerm:"",remaining:null,selectedItem:null},r.cancelAdd=function(){r.setState({selectedItem:null})},r.selectItem=function(e){r.setState({selectedItem:e})},r.addEntry=function(e){console.log("Entry add!"),console.log(e),r.cancelAdd()},r.performSearch=(o=regeneratorRuntime.mark(function e(t){var n,o,a,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t?1:r.state.page+1,o=t||r.state.searchTerm,r.setState(function(e){return{loading:!0,items:t?[]:e.items,remaining:null}}),e.next=5,c.default.searchFood(o,n);case 5:a=e.sent,u=a.items,l=a.remaining,r.setState(function(e){return{items:e.items.concat(u),loading:!1,page:n,searchTerm:o,remaining:l}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r.setState({loading:!1});case 14:case"end":return e.stop()}},e,i,[[0,11]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});t(u)}("next")})},function(e){return a.apply(this,arguments)}),d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.items,r=t.loading,c=t.remaining,s=t.selectedItem;return o.default.createElement("div",null,o.default.createElement(a.default,{onSearchSubmit:this.performSearch}),o.default.createElement(i.default,{items:n,onItemClick:this.selectItem}),o.default.createElement(u.default,{show:r}),c&&o.default.createElement("button",{style:p.button,onClick:function(){return e.performSearch()}},"Load more (",c," remaining)"),o.default.createElement(l.default,{show:s},o.default.createElement(f.default,{food:s,onCancel:this.cancelAdd,onAdd:this.addEntry})))}}]),t}();t.default=m},157:function(e,t,n){(e.exports=n(67)(!1)).push([e.i,'a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}h1,h2{margin-bottom:20px}h1{font-size:32px}h2{font-size:28px}h3{font-size:24px}body{font-family:Arial,Helvetica,sans-serif}button{border:1px solid #000;background-color:#fff;text-align:center;padding:12px}button.center{display:block;margin:0 auto}input{padding:11px}',""])},158:function(e,t,n){var r=n(157);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(66)(r,o);r.locals&&(e.exports=r.locals)},159:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(11));n(158);var a=i(n(155));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(a.default,null))}}]),t}();t.default=u},160:function(e,t,n){"use strict";var r=i(n(11)),o=i(n(138)),a=i(n(159));function i(e){return e&&e.__esModule?e:{default:e}}o.default.render(r.default.createElement(a.default,null),document.getElementById("root"))},363:function(e,t,n){n(362),e.exports=n(160)}});