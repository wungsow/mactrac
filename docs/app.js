!function(e){function t(t){for(var r,u,i=t[0],l=t[1],c=t[2],s=0,p=[];s<i.length;s++)u=i[s],o[u]&&p.push(o[u][0]),o[u]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(f&&f(t);p.length;)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},o={0:0},a=[];function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},u.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var f=l;a.push([354,1]),n()}({139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(135),u=(r=a)&&r.__esModule?r:{default:r};var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"searchFood",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n,r){var o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.default.get("https://world.openfoodfacts.org/cgi/search.pl?search_terms="+n+"&search_simple=1&action=process&json=1&page_size=50&page="+r+"&tagtype_0=languages&tag_contains_0=contains&tag_0=English");case 2:return o=t.sent,a=o.data,i=a.count-50*r,t.abrupt("return",{items:a&&a.products?e.mapFoodsToVM(a.products):[],remaining:i>0?i:null});case 6:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var u=e[o](a),i=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})});return function(e,t){return n.apply(this,arguments)}}()},{key:"mapFoodsToVM",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return e.nutriments&&e.nutriments.energy_100g}).map(function(e){return{name:e.product_name,protein:l(e.nutriments.proteins_100g),fat:l(e.nutriments.fat_100g),carbs:l(e.nutriments.carbohydrates_100g),cal:l(e.nutriments.energy_100g/4.2),servingSize:e.serving_quantity/100}})}}]),e}();t.default=i;var l=function(e){return isNaN(e)?e:Math.round(e)}},140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(30),a=(r=o)&&r.__esModule?r:{default:r};var u={textAlign:"center",padding:"10px"};t.default=function(e){return e.show?a.default.createElement("div",{style:u},"Loading..."):""}},144:function(e,t,n){(e.exports=n(143)(!1)).push([e.i,"td{text-align:right}td:first-child{text-align:left}",""])},145:function(e,t,n){var r=n(144);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(142)(r,o);r.locals&&(e.exports=r.locals)},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(30),a=(r=o)&&r.__esModule?r:{default:r};n(145);t.default=function(e){var t=e.name,n=e.protein,r=e.carbs,o=e.fat,u=e.cal,i=e.servingSize,l=i?Math.round(i*u)+" ("+Math.round(100*i)+"g)":"-";return a.default.createElement("tr",null,a.default.createElement("td",null,t),a.default.createElement("td",null,n),a.default.createElement("td",null,r),a.default.createElement("td",null,o),a.default.createElement("td",null,u),a.default.createElement("td",null,l))}},147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(30),u=c(a),i=c(n(92)),l=c(n(146));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"render",value:function(){return this.props.items.length?u.default.createElement("table",null,u.default.createElement("thead",null,u.default.createElement("tr",null,u.default.createElement("th",null,"Name"),u.default.createElement("th",null,"Protein"),u.default.createElement("th",null,"Carbs"),u.default.createElement("th",null,"Fat"),u.default.createElement("th",null,"Kcal/100g"),u.default.createElement("th",null,"Per serving"))),u.default.createElement("tbody",null,this.props.items.map(function(e,t){return u.default.createElement(l.default,r({key:t},e))}))):""}}]),t}();s.defaultProps={items:[]},s.propTypes={items:i.default.arrayOf(i.default.shape({name:i.default.string}))},t.default=s},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(30),a=i(o),u=i(n(92));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={searchTerm:""},r.onSubmit=function(){r.props.onSearchSubmit(r.state.searchTerm)},r.handleChange=function(e){var t,n,o;r.setState((t={},n=e.target.name,o=e.target.value,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t))},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return a.default.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.default.createElement("input",{type:"text",name:"searchTerm",value:this.state.value,onChange:this.handleChange}),a.default.createElement("button",{onClick:this.onSubmit},"Search"))}}]),t}();c.propTypes={onSearchSubmit:u.default.func.isRequired},t.default=c},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(30)),a=c(n(148)),u=c(n(147)),i=c(n(140)),l=c(n(139));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,n,r,o,a,u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=Array(i),s=0;s<i;s++)c[s]=arguments[s];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={items:[],loading:!1,page:1,searchTerm:"",remaining:null},r.performSearch=(o=regeneratorRuntime.mark(function e(t){var n,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t?1:r.state.page+1,r.setState(function(e){return{loading:!0,items:t?[]:e.items,remaining:null}}),e.next=5,l.default.searchFood(t||r.state.searchTerm,n);case 5:o=e.sent,a=o.items,i=o.remaining,r.setState(function(e){return{items:e.items.concat(a),loading:!1,page:n,searchTerm:t,remaining:i}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r.setState({loading:!1});case 14:case"end":return e.stop()}},e,u,[[0,11]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var u=e[o](a),i=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e){return a.apply(this,arguments)}),f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement("div",null,o.default.createElement(a.default,{onSearchSubmit:this.performSearch}),o.default.createElement(u.default,{items:this.state.items}),o.default.createElement(i.default,{show:this.state.loading}),this.state.remaining&&o.default.createElement("button",{onClick:function(){return e.performSearch()}},"Load more (",this.state.remaining," remaining)..."))}}]),t}();t.default=s},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(30)),a=u(n(149));function u(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(a.default,null))}}]),t}();t.default=i},151:function(e,t,n){"use strict";var r=u(n(30)),o=u(n(136)),a=u(n(150));function u(e){return e&&e.__esModule?e:{default:e}}o.default.render(r.default.createElement(a.default,null),document.getElementById("root"))},354:function(e,t,n){n(353),e.exports=n(151)}});